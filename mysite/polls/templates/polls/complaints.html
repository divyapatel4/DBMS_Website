

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>District Management System</title>  
    <style>
      td, th {
        padding: 4px;
      }
      th {
        cursor: pointer;
      }
      table {
        border-collapse: collapse;
      }
      table, td, th {
        border: 1px solid #ddd;
      }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
  </head>
  <body>  
  <meta charset="utf-8">
  <h1>Complaints </h1>
  <h1>By group 3.9</h1>
    <a href="{% url 'insertcomp' %}">Create new comp</a>
   
  <table id = "dtBasicExample" class="table table-striped table-bordered table-sm sortable">
    <thead>
      <tr>
      <th class="th-sm">complaint_id</th>
      <th class="th-sm">aadhar_id</th>
      <th class="th-sm">ctype_name</th>
      <th class="th-sm">tehsil_no</th>
      <th class="th-sm">district_no</th>
      <th class="th-sm">complaint_date</th>
      <th class="th-sm">assigned_emp</th>
      <th class="th-sm">status</th>
      </tr>
    </thead>
    <tbody>
      {% for comp in data %}
      <tr> 
        <td>{{ comp.complaint_id }}</td>
        <td>{{ comp.aadhar_id }}</td>
        <td>{{ comp.ctype_name }}</td>
        <td>{{ comp.tehsil_no.tehsil_id }}</td>
        <td>{{ comp.district_no.district_id }}</td>
        <td>{{ comp.complaint_date}}</td>
        
        <td>{{ comp.assigned_emp.emp_id }}</td>
        <td>{{ comp.status}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <!-- <table class="sortable">
    <thead>
      <th>English</th>
      <th>Spanish</th>
      <th>Italian</th>
    </thead>
    <tbody>
      <tr>
        <td>One</td>
        <td>Uno</td>
        <td>Uno</td>
      </tr>
      <tr>
        <td>Two</td>
        <td>Dos</td>
        <td>Due</td>
      </tr>
      <tr>
        <td>Three</td>
        <td>Tres</td>
        <td>Tre</td>
      </tr>
      <tr>
        <td>Four</td>
        <td>Cuatro</td>
        <td>Quattro</td>
      </tr>
    </tbody>
  </table>
   -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type ="text/javascript">
    $(".sortable thead").on("click", "th", function() {
    // Which column is this?
        var index = $(this).index();
        
        // Get the tbody
        var tbody = $(this).closest("table").find("tbody");
        
        // Disconnect the rows and get them as an array
        var rows = tbody.children().detach().get();
        
        // Sort it
        rows.sort(function(left, right) {
          // Get the text of the relevant td from left and right
          var $left = $(left).children().eq(index);
          var $right = $(right).children().eq(index);
          return $left.text().localeCompare($right.text());
        });
        
        // Put them back in the tbody
        tbody.append(rows);
    });
  </script>   
</body>
</html>


